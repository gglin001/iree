{
  "version": 8,
  "configurePresets": [
    {
      "name": "iree_llvm",
      "description": "for iree_llvm docker env",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug",
        "CMAKE_INSTALL_PREFIX": "${sourceDir}/build/install",
        "CMAKE_EXPORT_COMPILE_COMMANDS": true,
        "CMAKE_C_COMPILER": "/usr/bin/clang",
        "CMAKE_CXX_COMPILER": "/usr/bin/clang++",
        "CMAKE_INSTALL_RPATH_USE_LINK_PATH": true,
        "IREE_ERROR_ON_MISSING_SUBMODULES": false,
        "IREE_ENABLE_LLD": true,
        "IREE_BUILD_TESTS": false,
        "IREE_BUILD_SAMPLES": false,
        "IREE_TARGET_BACKEND_VMVX": true,
        "IREE_TARGET_BACKEND_LLVM_CPU": true,
        "IREE_TARGET_BACKEND_VULKAN_SPIRV": true,
        "IREE_TARGET_BACKEND_LLVM_CPU_WASM": false,
        "IREE_TARGET_BACKEND_METAL_SPIRV": false,
        "IREE_TARGET_BACKEND_ROCM": false,
        "IREE_TARGET_BACKEND_CUDA": false,
        "IREE_HAL_DRIVER_CUDA": false,
        "IREE_BUILD_PYTHON_BINDINGS": true,
        "IREE_BUILD_BUNDLED_LLVM": false,
        "LLVM_DIR": "/iree-llvm-project/build/install/lib/cmake/llvm",
        "LLD_DIR": "/iree-llvm-project/build/install/lib/cmake/lld",
        "MLIR_DIR": "/iree-llvm-project/build/install/lib/cmake/mlir",
        "Clang_DIR": "/iree-llvm-project/build/install/lib/cmake/clang",
        "IREE_ENABLE_ASSERTIONS": true
      }
    },
    {
      "name": "iree_llvm_riscv",
      "description": "riscv",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build-riscv",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release",
        "CMAKE_INSTALL_PREFIX": "${sourceDir}/build-riscv/install",
        "CMAKE_EXPORT_COMPILE_COMMANDS": true,
        "IREE_ERROR_ON_MISSING_SUBMODULES": false,
        "IREE_ENABLE_LLD": true,
        "IREE_BUILD_TESTS": false,
        "IREE_BUILD_SAMPLES": true,
        "IREE_BUILD_COMPILER": false,
        "IREE_ENABLE_ASSERTIONS": true,
        "IREE_HOST_BIN_DIR": "${sourceDir}/build/tools",
        //
        // $PWD/`riscv-toolchain` is riscv toolchain for bare metal
        "CMAKE_SYSTEM_NAME": "Generic",
        "CMAKE_SYSTEM_PROCESSOR": "riscv64",
        "CMAKE_C_COMPILER": "${fileDir}/riscv-toolchain/bin/clang",
        "CMAKE_CXX_COMPILER": "${fileDir}/riscv-toolchain/bin/clang++",
        "CMAKE_AR": "${fileDir}/riscv-toolchain/bin/llvm-ar",
        "CMAKE_RANLIB": "${fileDir}/riscv-toolchain/bin/llvm-ranlib",
        "CMAKE_STRIP": "${fileDir}/riscv-toolchain/bin/llvm-strip",
        "CMAKE_SYSROOT": "${fileDir}/riscv-toolchain/lib/clang-runtimes/riscv64-unknown-elf/rv64ima/lp64",
        "CMAKE_C_STANDARD": "11",
        "CMAKE_C_EXTENSIONS": false,
        "CMAKE_C_FLAGS": "--target=riscv64-unknown-elf -mcmodel=medany -nostdlib -O3 -march=rv64ima -mabi=lp64 -DIREE_PLATFORM_GENERIC=1 -DIREE_SYNCHRONIZATION_DISABLE_UNSAFE=1 -DIREE_FILE_IO_ENABLE=0 -DIREE_TIME_NOW_FN='{return 0;}' -DIREE_DEVICE_SIZE_T=uint64_t -DPRIdsz=PRIu64",
        "CMAKE_CXX_FLAGS": "--target=riscv64-unknown-elf -mcmodel=medany -nostdlib -O3 -march=rv64ima -mabi=lp64",
        //
        "IREE_HAL_DRIVER_DEFAULTS": false,
        "IREE_HAL_DRIVER_LOCAL_SYNC": true,
        "IREE_HAL_EXECUTABLE_LOADER_DEFAULTS": false,
        "IREE_HAL_EXECUTABLE_LOADER_EMBEDDED_ELF": true,
        "IREE_HAL_EXECUTABLE_LOADER_VMVX_MODULE": true,
        "IREE_HAL_EXECUTABLE_PLUGIN_DEFAULTS": false,
        "IREE_HAL_EXECUTABLE_PLUGIN_EMBEDDED_ELF": true,
        "IREE_ENABLE_THREADING": false,
        //
        // "RISCV_TOOLCHAIN_ROOT": "/usr/src/toolchain_iree",
        // "CMAKE_TOOLCHAIN_FILE": "${sourceDir}/build_tools/cmake/riscv.toolchain.cmake",
        // "RISCV_CPU": "linux-riscv_64",
        // "RISCV_COMPILER_FLAGS": "-O3",
        // "RISCV_COMPILER_FLAGS_CXX": "-O3",
        //
        "AA": "BB"
      }
    }
  ]
}
